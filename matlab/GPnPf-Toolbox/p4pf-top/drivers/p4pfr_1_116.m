% Generated using GBSolver generator v1.1 Copyright Martin Bujnak,
% Zuzana Kukelova, Tomas Pajdla CTU Prague 2008.
% 
% Please refer to the following paper, when using this code :
%     Kukelova Z., Bujnak M., Pajdla T., Automatic Generator of Minimal Problem Solvers,
%     ECCV 2008, Marseille, France, October 12-18, 2008

function [f zb zc zd meta M] = mbp4pf_11_1234_1ffzbfzcfzdzbzb2zbzczbzdzczc2zczdzdzd2515(glab, a1, b1, c1, d1)

	% instance=mbp4pftest_inst ordering={f,zb,zc,zd} equations={1,2,3,4} basis={1,f,f*zb,f*zc,f*zd,zb,zb^2,zb*zc,zb*zd,zc,zc^2,zc*zd,zd,zd^2} 
	% gj = 1 subst = 1
	meta = {1,1, {'mbp4pftest_inst'}, {'f' 'zb' 'zc' 'zd'}, {1,2,3,4}, {'1' 'f' 'f*zb' 'f*zc' 'f*zd' 'zb' 'zb^2' 'zb*zc' 'zb*zd' 'zc' 'zc^2' 'zc*zd' 'zd' 'zd^2'} };

	%monomials appearing in matrix M:
	%    zc^3*zb^2*f^3 zd*zc^2*zb^2*f^3 zd^2*zc*zb^2*f^3 zd^2*zc^2*zb*f^3 zd^2*zc^3*f^3 zd^3*zc*zb*f^3 zd^3*zc^2*f^3 zd^4*zb*f^3 zd^4*zc*f^3 zd^5*f^3 zc^2*zb^2*f^3 
	%    zc^3*zb*f^3 zc^3*zb^2*f^2 zd*zc*zb^2*f^3 zd*zc^2*zb*f^3 zd*zc^2*zb^2*f^2 zd*zc^3*f^3 zd^2*zb^2*f^3 zd^2*zc*zb*f^3 zd^2*zc*zb^2*f^2 zd^2*zc^2*f^3 zd^2*zc^2*zb*f^2 
	%    zd^2*zc^3*f^2 zd^3*zb*f^3 zd^3*zc*f^3 zd^3*zc*zb*f^2 zd^3*zc^2*f^2 zd^4*f^3 zd^4*zb*f^2 zd^4*zc*f^2 zd^5*f^2 zc*zb^2*f^3 zc^2*zb*f^3 
	%    zc^2*zb^2*f^2 zc^2*zb^3*f zc^3*f^3 zc^3*zb*f^2 zc^3*zb^2*f zd*zb^2*f^3 zd*zc*zb*f^3 zd*zc*zb^2*f^2 zd*zc^2*f^3 zd*zc^2*zb*f^2 zd*zc^2*zb^2*f 
	%    zd*zc^3*f^2 zd^2*zb*f^3 zd^2*zb^2*f^2 zd^2*zb^3*f zd^2*zc*f^3 zd^2*zc*zb*f^2 zd^2*zc*zb^2*f zd^2*zc^2*f^2 zd^2*zc^2*zb*f zd^2*zc^3*f zd^3*f^3 
	%    zd^3*zb*f^2 zd^3*zb^2*f zd^3*zc*f^2 zd^3*zc*zb*f zd^3*zc^2*f zd^4*f^2 zd^4*zb*f zd^4*zc*f zd^5*f zb^2*f^3 zc*zb*f^3 
	%    zc*zb^2*f^2 zc*zb^3*f zc^2*f^3 zc^2*zb*f^2 zc^2*zb^2*f zc^2*zb^3 zc^3*f^2 zc^3*zb*f zc^3*zb^2 zd*zb*f^3 zd*zb^2*f^2 
	%    zd*zb^3*f zd*zc*zb*f^2 zd*zc*zb^2*f zd*zc^2*f^2 zd*zc^2*zb*f zd*zc^2*zb^2 zd*zc^3*f zd^2*zb*f^2 zd^2*zb^2*f zd^2*zb^3 zd^2*zc*f^2 
	%    zd^2*zc*zb*f zd^2*zc*zb^2 zd^2*zc^2*f zd^2*zc^2*zb zd^2*zc^3 zd^3*f^2 zd^3*zb*f zd^3*zc*f zd^4*f zb^2*f^2 zb^3*f 
	%    zc*zb*f^2 zc*zb^2*f zc*zb^3 zc^2*f^2 zc^2*zb*f zc^2*zb^2 zc^3*f zc^3*zb zd*zb*f^2 zd*zb^2*f zd*zb^3 
	%    zd*zc*f^2 zd*zc*zb*f zd*zc*zb^2 zd*zc^2*f zd*zc^2*zb zd^2*f^2 zd^2*zb*f zd^2*zb^2 zd^2*zc*f zd^2*zc*zb zd^2*zc^2 
	%    zd^3*f zd^3*zb zb*f^2 zb^2*f zb^3 zc*f^2 zc*zb*f zc*zb^2 zc^2*f zc^2*zb zd*zb*f 
	%    zd*zb^2 zd*zc*f zd*zc*zb zd*zc^2 zd^2*f zd^2*zb zd^2*zc zb*f zb^2 zc*f zc*zb 
	%    zc^2 zd*f zd*zb zd*zc zd^2 f zb zc zd 1 
	M = zeros(139, 153);
	M([131, 269, 407, 1499, 1776, 1914, 2191, 2468, 2745, 4376, 4653, 4791, 5207, 5345, 5622, 6038, 6454, 6592, 7008, 8924, 9201, 9339, 9755, 10588, 10726, 11003, 11836, 13491, 13629, 13906, 15017, 17237]) = 1;
	M([687, 964, 1241, 2889, 3166, 3443, 3720, 3858, 4135, 6739, 7155, 7293, 7431, 7569, 7985, 8262, 8400, 8538, 8676, 12120, 12258, 12535, 12951, 13089, 13227, 13365, 15993, 16131, 16408, 16824, 18905]) = -glab(1)/glab(3);
	M([1660, 2076, 2631, 4557, 5112, 5528, 5944, 6360, 6915, 9102, 9657, 9795, 10211, 10488, 10904, 11320, 11736, 11874, 12290, 13788, 13926, 14342, 14897, 15035, 15451, 16145, 17105, 17243, 17659, 18214, 19322]) = -2;
	M([1799, 2215, 2770, 4696, 5251, 5667, 6083, 6499, 7054, 9241, 9796, 9934, 10350, 10627, 11043, 11459, 11875, 12013, 12429, 13511, 13927, 14065, 14481, 15036, 15174, 15590, 16284, 17244, 17382, 17798, 18353, 19461]) = b1(1)^2+b1(2)^2;
	M([2355, 2910, 3465, 5808, 6224, 6779, 7195, 7611, 8027, 11186, 11324, 11601, 12155, 12571, 12987, 13125, 13263, 15317, 15455, 15732, 16009, 16147, 16424, 16840, 18216, 18493, 18909, 20017]) = 2*glab(1)/glab(3);
	M([3189, 3744, 4160, 7198, 7475, 8030, 8307, 8445, 8722, 12160, 12576, 12714, 12852, 12990, 13267, 13404, 16013, 16429, 16567, 16705, 16843, 16981, 18912, 19050, 19188, 20434]) = -d1(1)^2*glab(1)/glab(3)-d1(2)^2*glab(1)/glab(3);
	M([4996, 5829, 6801, 9561, 10116, 11226, 12197, 14244, 14382, 14659, 15352, 15768, 16045, 16183, 16460, 17541, 17679, 17956, 18232, 18509, 18925, 19328, 19605, 20021, 20573]) = -glab(1)/glab(3)+1;
	M([5135, 5968, 6940, 9700, 10255, 10949, 11365, 11781, 12336, 13828, 14383, 14521, 14798, 14936, 15491, 15907, 16184, 16322, 16599, 17125, 17680, 17818, 18095, 18233, 18371, 18648, 19064, 19329, 19467, 19744, 20160, 20712]) = -2*b1(2)*a1(2)-2*b1(1)*a1(1);
	M([6247, 7219, 8052, 11229, 11645, 12200, 12616, 13032, 13309, 15357, 15773, 15911, 16048, 16464, 16741, 16879, 17017, 18514, 18652, 18790, 18928, 19066, 19204, 20024, 20162, 20300, 20438, 20990]) = 2*a1(1)*d1(1)*glab(1)/glab(3)+2*a1(2)*d1(2)*glab(1)/glab(3);
	M([10139, 11250, 12222, 14287, 14703, 15397, 15813, 16090, 16506, 17581, 17997, 18135, 18549, 18826, 18964, 19102, 19240, 19626, 19764, 19902, 20040, 20178, 20316, 20454, 20580, 20718, 20856, 20994, 21129]) = a1(2)^2+a1(1)^2-a1(2)^2*glab(1)/glab(3)-a1(1)^2*glab(1)/glab(3);
	M([136, 274, 412, 550, 827, 1509, 1647, 1785, 1923, 2061, 2199, 2615, 2753, 3030, 3585, 4390, 4528, 4666, 4804, 5081, 5219, 5496, 5634, 5911, 6049, 6882, 7020, 7297, 8130, 9073, 9211, 9349, 9626, 9764, 10180, 10874, 11012, 11289, 12261, 13773, 13911, 14327, 15438, 17655]) = 1;
	M([553, 830, 1107, 1245, 1383, 2621, 2898, 3036, 3313, 3451, 3589, 3866, 4004, 4142, 4280, 6336, 6752, 6890, 7028, 7166, 7304, 7581, 7719, 7996, 8134, 8411, 8549, 8687, 8825, 11713, 11851, 12128, 12266, 12543, 12959, 13097, 13235, 13373, 15997, 16135, 16412, 16828, 18906]) = 1/2/glab(3)*glab(4)-1/2*glab(2)/glab(3)-1/2*glab(1)/glab(3);
	M([1526, 1942, 2497, 2635, 3329, 4428, 4566, 4704, 5398, 5536, 5674, 6368, 6506, 6922, 7755, 8977, 9115, 9253, 9391, 9668, 9806, 10500, 10638, 10915, 11053, 11747, 11885, 12301, 13134, 13520, 13658, 13796, 13934, 14350, 14905, 15043, 15459, 16153, 17109, 17247, 17663, 18218, 19323]) = -1;
	M([1665, 2081, 2636, 2913, 3468, 4567, 4983, 5121, 5537, 5814, 5952, 6785, 6923, 7200, 8033, 9116, 9532, 9670, 9808, 10085, 10223, 10916, 11193, 11331, 12164, 12302, 12579, 13273, 13798, 13936, 14213, 14351, 14628, 15322, 15460, 15737, 16431, 17526, 17664, 17941, 18496, 19601]) = -1;
	M([1804, 2220, 2775, 3052, 3607, 4706, 5122, 5260, 5676, 5953, 6091, 6924, 7062, 7339, 8172, 9255, 9671, 9809, 9947, 10224, 10362, 10917, 11055, 11332, 11470, 12303, 12441, 12718, 13799, 13937, 14075, 14352, 14490, 14767, 15461, 15599, 15876, 16570, 17665, 17803, 18080, 18635, 19740]) = c1(1)*b1(1)+c1(2)*b1(2);
	M([2082, 2637, 3331, 3469, 3885, 5540, 5817, 5955, 6371, 6787, 6925, 7619, 7757, 8034, 8450, 10506, 10921, 11059, 11197, 11335, 11750, 12166, 12304, 12998, 13136, 13274, 13412, 14910, 15048, 15325, 15463, 15740, 16017, 16155, 16432, 16848, 18220, 18497, 18913, 20018]) = glab(2)/glab(3)-1/glab(3)*glab(4)+glab(1)/glab(3);
	M([3055, 3610, 4026, 4164, 4302, 6930, 7207, 7345, 7761, 8038, 8176, 8453, 8591, 8729, 8867, 11757, 12173, 12311, 12449, 12587, 12725, 13002, 13140, 13278, 13415, 16023, 16161, 16299, 16437, 16575, 16713, 16851, 16989, 18916, 19054, 19192, 20435]) = -1/2*d1(1)^2*glab(2)/glab(3)-1/2*d1(2)^2*glab(2)/glab(3)+1/2*d1(1)^2/glab(3)*glab(4)+1/2*d1(2)^2/glab(3)*glab(4)-1/2*d1(1)^2*glab(1)/glab(3)-1/2*d1(2)^2*glab(1)/glab(3);
	M([4584, 5556, 6389, 6805, 7638, 9154, 9570, 9708, 10541, 10956, 11788, 12204, 13037, 13840, 13978, 14255, 14393, 14947, 15363, 15501, 16056, 16194, 16471, 16887, 17134, 17272, 17549, 17687, 17964, 18240, 18517, 18933, 19332, 19609, 20025, 20574]) = 1/2/glab(3)*glab(4)-1/2*glab(2)/glab(3)-1/2*glab(1)/glab(3)+1;
	M([4723, 5695, 6528, 6944, 7777, 9293, 9709, 9847, 10680, 10957, 11095, 11789, 11927, 12343, 13176, 13564, 13841, 13979, 14117, 14394, 14532, 14948, 15086, 15502, 15640, 16195, 16333, 16610, 17026, 17135, 17273, 17411, 17688, 17826, 18103, 18241, 18379, 18656, 19072, 19333, 19471, 19748, 20164, 20713]) = -b1(2)*a1(2)-b1(1)*a1(1);
	M([5140, 5973, 6945, 7222, 8055, 9710, 10126, 10264, 10958, 11235, 11373, 12206, 12344, 12621, 13315, 13842, 14258, 14396, 14534, 14672, 14810, 15365, 15503, 15780, 15918, 16473, 16611, 16749, 17552, 17690, 17828, 17966, 18104, 18519, 18657, 18795, 19211, 19611, 19749, 19887, 20303, 20852]) = -c1(2)*a1(2)-c1(1)*a1(1);
	M([5974, 6946, 7779, 8056, 8472, 10961, 11238, 11376, 11792, 12208, 12346, 13040, 13178, 13316, 13454, 14954, 15370, 15508, 15646, 15784, 15922, 16060, 16198, 16475, 16613, 16890, 17028, 18246, 18384, 18522, 18660, 18798, 18936, 19074, 19212, 20028, 20166, 20304, 20442, 20991]) = a1(2)*d1(2)*glab(2)/glab(3)-a1(1)*d1(1)/glab(3)*glab(4)-a1(2)*d1(2)/glab(3)*glab(4)+a1(2)*d1(2)*glab(1)/glab(3)+a1(1)*d1(1)*glab(1)/glab(3)+a1(1)*d1(1)*glab(2)/glab(3);
	M([9727, 10977, 11810, 12226, 13059, 13880, 14296, 14434, 14989, 15405, 15543, 16098, 16236, 16513, 16929, 17178, 17594, 17732, 17870, 18008, 18146, 18283, 18560, 18698, 18975, 19113, 19251, 19358, 19496, 19634, 19772, 19910, 20048, 20186, 20324, 20462, 20584, 20722, 20860, 20998, 21130]) = -1/2*a1(2)^2*glab(2)/glab(3)-1/2*a1(1)^2*glab(2)/glab(3)+1/2*a1(2)^2/glab(3)*glab(4)+1/2*a1(1)^2/glab(3)*glab(4)+a1(2)^2+a1(1)^2-1/2*a1(2)^2*glab(1)/glab(3)-1/2*a1(1)^2*glab(1)/glab(3);
	M([694, 971, 2070, 2347, 2902, 3179, 3734, 4541, 4818, 4956, 5233, 5788, 5926, 6064, 6202, 7174, 7312, 7450, 8283, 9499, 9637, 9775, 10052, 10190, 11162, 11300, 11577, 12549, 14194, 14332, 14609, 15720, 17934]) = 1;
	M([1250, 1388, 3321, 3459, 3875, 4152, 4290, 6348, 6625, 6763, 7040, 7595, 7733, 7871, 8009, 8425, 8563, 8701, 8839, 11722, 11860, 12137, 12275, 12969, 13107, 13245, 13383, 16001, 16139, 16416, 16832, 18907]) = -glab(2)/glab(3);
	M([2918, 3473, 5545, 5822, 6794, 7210, 8043, 9128, 9405, 9543, 9820, 10930, 11068, 11206, 12178, 12316, 12593, 13287, 13807, 13945, 14222, 14360, 15332, 15470, 15747, 16441, 17530, 17668, 17945, 18500, 19602]) = -2;
	M([3196, 3751, 5962, 6239, 7211, 7488, 8321, 9684, 9961, 10099, 10376, 11209, 11347, 11485, 11623, 12595, 12733, 12871, 14225, 14363, 14501, 14639, 14777, 15749, 15887, 16719, 17947, 18085, 18778, 19880]) = c1(1)^2+c1(2)^2;
	M([3474, 3890, 6379, 6795, 7628, 8044, 8460, 10518, 10795, 11071, 11764, 11902, 12179, 13012, 13150, 13288, 13426, 14919, 15057, 15334, 15472, 16027, 16165, 16442, 16858, 18224, 18501, 18917, 20019]) = 2*glab(2)/glab(3);
	M([4169, 4307, 7769, 8046, 8462, 8739, 8877, 11769, 12046, 12184, 12461, 13016, 13154, 13291, 13429, 16032, 16170, 16308, 16446, 16584, 16861, 16999, 18920, 19058, 19196, 20436]) = -d1(1)^2*glab(2)/glab(3)-d1(2)^2*glab(2)/glab(3);
	M([6810, 7643, 10549, 12214, 13047, 13714, 13990, 14961, 15099, 15376, 16070, 16208, 16485, 16901, 17143, 17281, 17558, 17696, 18250, 18527, 18943, 19336, 19613, 20029, 20575]) = -glab(2)/glab(3)+1;
	M([7227, 8060, 10966, 11243, 12215, 12631, 13325, 13854, 14131, 14269, 14546, 15379, 15517, 15655, 15793, 16487, 16625, 16763, 17561, 17699, 17837, 17975, 18113, 18529, 18667, 18805, 19221, 19615, 19753, 19891, 20307, 20853]) = -2*c1(1)*a1(1)-2*c1(2)*a1(2);
	M([8061, 8477, 11800, 12216, 13049, 13326, 13464, 14966, 15243, 15381, 15658, 16074, 16212, 16350, 16488, 16904, 17042, 18255, 18393, 18531, 18669, 18946, 19084, 19222, 20032, 20170, 20308, 20446, 20992]) = 2*a1(1)*d1(1)*glab(2)/glab(3)+2*a1(2)*d1(2)*glab(2)/glab(3);
	M([12231, 13064, 14997, 15413, 16107, 16523, 16939, 17190, 17467, 17605, 17882, 18297, 18435, 18573, 18989, 19127, 19265, 19367, 19505, 19643, 19781, 20058, 20196, 20334, 20472, 20588, 20726, 20864, 21002, 21131]) = a1(2)^2+a1(1)^2-a1(2)^2*glab(2)/glab(3)-a1(1)^2*glab(2)/glab(3);
	M([1112, 2491, 2629, 3323, 4017, 5385, 5523, 6356, 6494, 6632, 6909, 7047, 7324, 7740, 8573, 10482, 10620, 10758, 10896, 11034, 11311, 11727, 11865, 12281, 13114, 14893, 15031, 15447, 16141, 18213]) = 1;
	M([1390, 3325, 3463, 3879, 4295, 6358, 6774, 7607, 7745, 7883, 8021, 8159, 8297, 8435, 8851, 11732, 11870, 12147, 12285, 12562, 12978, 13116, 13254, 13392, 16005, 16143, 16420, 16836, 18908]) = -1/2+1/2*glab(5)/glab(3)-1/2*glab(1)/glab(3);
	M([3336, 5410, 5548, 6381, 7770, 8999, 9137, 10526, 10664, 10802, 10940, 11078, 11355, 11771, 13160, 13539, 13677, 13815, 13953, 14369, 14924, 15062, 15478, 16172, 17117, 17255, 17671, 18226, 19325]) = -1;
	M([3892, 6383, 6799, 7632, 8465, 10528, 11776, 11914, 12191, 12329, 12606, 13022, 13438, 14929, 15067, 15344, 15482, 15759, 16036, 16174, 16451, 16867, 18228, 18505, 18921, 20020]) = -glab(5)/glab(3)+glab(1)/glab(3);
	M([4031, 6522, 6938, 7771, 8604, 10667, 10944, 11777, 11915, 12053, 12330, 12468, 12745, 13161, 14930, 15068, 15206, 15483, 15621, 15898, 16175, 16313, 16590, 17006, 18229, 18367, 18644, 19060, 20159]) = b1(2)*d1(2)+b1(1)*d1(1);
	M([4309, 7773, 8050, 8466, 8882, 11779, 12195, 13028, 13166, 13303, 13439, 16042, 16180, 16318, 16456, 16594, 16732, 16870, 17008, 18924, 19062, 19200, 20437]) = -1/2*d1(2)^2-1/2*d1(1)^2+1/2*d1(1)^2*glab(5)/glab(3)-1/2*d1(1)^2*glab(1)/glab(3)-1/2*d1(2)^2*glab(1)/glab(3)+1/2*d1(2)^2*glab(5)/glab(3);
	M([7645, 10553, 13052, 14973, 15111, 15388, 15526, 15803, 16080, 16913, 17153, 17291, 17568, 17706, 17983, 18259, 18536, 18952, 19340, 19617, 20033, 20576]) = -1/2*glab(1)/glab(3)+1/2*glab(5)/glab(3)+1/2;
	M([7784, 10692, 10969, 11802, 13191, 13586, 13863, 14974, 15112, 15250, 15527, 15665, 15942, 16219, 17052, 17154, 17292, 17430, 17707, 17845, 18122, 18260, 18398, 18675, 19091, 19341, 19479, 19756, 20172, 20715]) = -b1(2)*a1(2)-b1(1)*a1(1);
	M([8479, 11804, 12220, 13053, 13469, 14976, 15392, 16086, 16224, 16362, 16500, 16638, 16776, 16914, 18265, 18403, 18541, 18679, 18817, 18955, 19093, 19231, 20036, 20174, 20312, 20450, 20993]) = a1(1)*d1(1)*glab(1)/glab(3)-a1(1)*d1(1)*glab(5)/glab(3)+a1(2)*d1(2)*glab(1)/glab(3)-a1(2)*d1(2)*glab(5)/glab(3);
	M([13066, 15001, 15417, 16111, 16944, 17200, 17616, 18309, 18447, 18585, 18723, 18861, 18999, 19377, 19515, 19653, 19791, 19929, 20067, 20205, 20343, 20481, 20592, 20730, 20868, 21006, 21132]) = 1/2*a1(2)^2+1/2*a1(1)^2-1/2*a1(2)^2*glab(1)/glab(3)-1/2*a1(1)^2*glab(1)/glab(3)+1/2*a1(2)^2*glab(5)/glab(3)+1/2*a1(1)^2*glab(5)/glab(3);

	Mr = rref(M);  % replace me with a MEX

	A = zeros(14);
	amcols = [153 152 151 150 149 148 147 146 145 144 143 142 141 140];
	A(1, 4) = 1;
	A(2, 8) = 1;
	A(3, 11) = 1;
	A(4, 13) = 1;
	A(5, 14) = 1;
	A(6, :) = -Mr(138, amcols);
	A(7, :) = -Mr(135, amcols);
	A(8, :) = -Mr(133, amcols);
	A(9, :) = -Mr(132, amcols);
	A(10, :) = -Mr(131, amcols);
	A(11, :) = -Mr(129, amcols);
	A(12, :) = -Mr(128, amcols);
	A(13, :) = -Mr(126, amcols);
	A(14, :) = -Mr(125, amcols);

	% generated for action variable 'zb'
	% action matrix monomials: 1 zd zc zb f zd^2 zc*zd zb*zd f*zd zc^2 zb*zc f*zc zb^2 f*zb
	[V D] = eig(A);
	sol =  V([5, 4, 3, 2],:)./(ones(4, 1)*V(1,:));

	if (find(isnan(sol(:))) > 0)
		
		f = [];
		zb = [];
		zc = [];
		zd = [];
	else
		
		I = find(not(imag( sol(1,:) )));
		f = sol(1,I);
		zb = sol(2,I);
		zc = sol(3,I);
		zd = sol(4,I);
	end
end
