% Generated using GBSolver generator v1.1 Copyright Martin Bujnak,
% Zuzana Kukelova, Tomas Pajdla CTU Prague 2008.
% 
% Please refer to the following paper, when using this code :
%     Kukelova Z., Bujnak M., Pajdla T., Automatic Generator of Minimal Problem Solvers,
%     ECCV 2008, Marseille, France, October 12-18, 2008

function [za f zb zc zd meta M] = mbp4pfd_1011_11_12345_1zazazdffzcfzdzbzbzdzczczdzdzd2(glab, a1, b1, c1, d1)

	% instance=gbs_RandomInstanceZp ordering={za,f,zb,zc,zd} equations={1,2,3,4,5} basis={1,za,za*zd,f,f*zc,f*zd,zb,zb*zd,zc,zc*zd,zd,zd^2} 
	% gj = 1 subst = 1
	meta = {1,1, {'gbs_RandomInstanceZp'}, {'za' 'f' 'zb' 'zc' 'zd'}, {1,2,3,4,5}, {'1' 'za' 'za*zd' 'f' 'f*zc' 'f*zd' 'zb' 'zb*zd' 'zc' 'zc*zd' 'zd' 'zd^2'} };

	%monomials appearing in matrix M:
	%    zd*zb^2*f^3*za^2 zd*zc*zb*f^3*za^2 zd*zc*zb^2*f^3*za zd^2*zb*f^3*za^2 zd^2*zb^2*f^3*za zd^2*zc*f^3*za^2 zd^2*zc*zb*f^3*za zd^2*zc*zb^2*f^3 zd^3*f^3*za^2 zd^3*zb*f^3*za zd^3*zb^2*f^3 
	%    zb^2*f^3*za^2 zc*zb*f^3*za^2 zc*zb^2*f^3*za zd*zb*f^3*za^2 zd*zb^2*f^2*za^2 zd*zb^2*f^3*za zd*zc*f^3*za^2 zd*zc*zb*f^2*za^2 zd*zc*zb*f^3*za zd*zc*zb^2*f^2*za zd*zc*zb^2*f^3 
	%    zd^2*f^3*za^2 zd^2*zb*f^2*za^2 zd^2*zb*f^3*za zd^2*zb^2*f^2*za zd^2*zb^2*f^3 zd^2*zc*f^2*za^2 zd^2*zc*zb*f^2*za zd^2*zc*zb^2*f^2 zd^3*f^2*za^2 zd^3*zb*f^2*za zd^3*zb^2*f^2 
	%    zd^3*zc*f^2*za zd^3*zc*zb*f^2 zd^4*f^2*za zd^4*zb*f^2 zb^2*f^2*za^2 zc*zb*f^2*za^2 zc*zb^2*f*za^2 zc*zb^2*f^2*za zd*zb*f^2*za^2 zd*zb^2*f*za^2 zd*zb^2*f^2*za 
	%    zd*zc*f^2*za^2 zd*zc*zb*f*za^2 zd*zc*zb*f^2*za zd*zc*zb^2*f*za zd*zc*zb^2*f^2 zd^2*f^2*za^2 zd^2*zb*f*za^2 zd^2*zb*f^2*za zd^2*zb^2*f*za zd^2*zb^2*f^2 zd^2*zc*f*za^2 
	%    zd^2*zc*f^2*za zd^2*zc*zb*f*za zd^2*zc*zb*f^2 zd^2*zc*zb^2*f zd^3*f*za^2 zd^3*f^2*za zd^3*zb*f*za zd^3*zb*f^2 zd^3*zb^2*f zd^3*zc*f*za zd^3*zc*zb*f 
	%    zd^4*f*za zd^4*zb*f zd^4*zc*f zd^5*f zb*f^2*za^2 zb^2*f*za^2 zb^2*f^2*za zc*f^2*za^2 zc*zb*f*za^2 zc*zb*f^2*za zc*zb^2*za^2 
	%    zc*zb^2*f*za zc*zb^2*f^2 zd*f^2*za^2 zd*zb*f*za^2 zd*zb*f^2*za zd*zb^2*za^2 zd*zb^2*f*za zd*zb^2*f^2 zd*zc*f*za^2 zd*zc*f^2*za zd*zc*zb*za^2 
	%    zd*zc*zb*f*za zd*zc*zb*f^2 zd*zc*zb^2*za zd*zc*zb^2*f zd^2*f*za^2 zd^2*zb*za^2 zd^2*zb*f*za zd^2*zb^2*za zd^2*zb^2*f zd^2*zc*za^2 zd^2*zc*f*za 
	%    zd^2*zc*zb*za zd^2*zc*zb*f zd^2*zc*zb^2 zd^3*za^2 zd^3*f*za zd^3*zb*za zd^3*zb*f zd^3*zb^2 zd^3*zc*za zd^3*zc*f zd^3*zc*zb 
	%    zd^4*f zb*f*za^2 zb*f^2*za zb^2*za^2 zb^2*f*za zb^2*f^2 zc*f*za^2 zc*f^2*za zc*zb*za^2 zc*zb*f*za zc*zb*f^2 
	%    zc*zb^2*za zc*zb^2*f zd*f*za^2 zd*zb*za^2 zd*zb*f*za zd*zb^2*za zd*zb^2*f zd*zc*za^2 zd*zc*f*za zd*zc*zb*za zd*zc*zb*f 
	%    zd*zc*zb^2 zd^2*f*za zd^2*zb*za zd^2*zb*f zd^2*zb^2 zd^2*zc*za zd^2*zc*f zd^2*zc*zb zd^3*f zb*za^2 zb*f*za 
	%    zb^2*za zb^2*f zc*za^2 zc*f*za zc*zb*za zc*zb*f zc*zb^2 zd*f*za zd*zb*za zd*zb*f zd*zb^2 
	%    zd*zc*za zd*zc*f zd*zc*zb zd^2*za zd^2*f zd^2*zb zd^2*zc zd^3 f*za zb*za zb*f 
	%    zc*za zc*f zc*zb zd*za zd*f zd*zb zd*zc zd^2 za f zb 
	%    zc zd 1 
	M = zeros(167, 179);
	M([156, 322, 655, 988, 1488, 1963, 2129, 2462, 2628, 2961, 3127, 3794, 3960, 4627, 5127, 6254, 6420, 6586, 6919, 7085, 7418, 7584, 8251, 8417, 9084, 9918, 11722, 11888, 12221, 12387, 13221, 13387, 14221, 15389, 18544, 19378, 20546]) = 1;
	M([824, 1157, 1657, 2798, 3298, 4132, 4298, 4797, 5296, 5629, 5962, 7256, 7756, 7922, 8589, 8755, 9255, 9421, 10088, 10254, 10754, 11087, 13559, 13892, 14392, 14725, 15725, 16392, 17226, 20882, 21549, 22216]) = -2;
	M([1826, 4468, 5467, 5799, 6131, 8926, 9593, 9759, 10426, 10592, 10924, 11256, 11422, 11588, 16063, 16729, 17562, 18062, 18395, 22552, 23052, 23385]) = 1;
	M([2661, 3161, 3995, 4662, 5162, 6305, 6471, 6971, 7137, 7470, 7636, 8303, 8469, 9136, 9970, 11932, 12432, 12765, 13432, 13765, 14265, 14598, 15432, 15598, 16265, 17099, 18569, 18902, 19402, 19735, 20569, 20735, 21402, 23554, 24221]) = a1(1)^2+a1(2)^2;
	M([4331, 4831, 5331, 5664, 5997, 7307, 7807, 8641, 8807, 9307, 9473, 10140, 10306, 10806, 11139, 13936, 14770, 15103, 15770, 15936, 16436, 16602, 17269, 17435, 17935, 20907, 21073, 21573, 21739, 22239, 22405, 22905, 25224, 25724, 26224]) = -2*a1(2)*d1(2)-2*a1(1)*d1(1);
	M([5500, 5833, 6166, 8977, 9644, 10478, 10644, 10976, 11308, 11474, 11640, 16107, 16774, 16940, 17607, 17773, 18106, 18272, 18438, 22577, 22743, 23076, 23242, 23408, 26560, 26726, 26892]) = d1(1)^2+d1(2)^2;
	M([14184, 15018, 19331, 20165, 21332, 21998, 22664, 23164, 23497, 24123, 24790, 24956, 25456, 25622, 25955, 26121, 26454, 26620, 26786, 26952, 27420, 27752, 27918, 28251, 28417, 28583, 28749, 29232, 29398, 29564]) = -glab(3);
	M([163, 329, 495, 661, 827, 1160, 1660, 1977, 2143, 2309, 2475, 2641, 2807, 3140, 3306, 3472, 3972, 4138, 4304, 4804, 5304, 6269, 6435, 6601, 6767, 6933, 7099, 7265, 7598, 7764, 7930, 8430, 8596, 8762, 9429, 10263, 11733, 11899, 12065, 12398, 12564, 12897, 13397, 13563, 13896, 14730, 15731, 18549, 18715, 19048, 19882, 20883, 23715]) = 1;
	M([664, 997, 1163, 1496, 1662, 2478, 2978, 3311, 3811, 3977, 4143, 4643, 4808, 5141, 5306, 5639, 5972, 6937, 7437, 7603, 7769, 8269, 8435, 8601, 9101, 9267, 9433, 9933, 10099, 10265, 10765, 11098, 13236, 13402, 13568, 14235, 14401, 14734, 15401, 15733, 16400, 17234, 20553, 20885, 21552, 22219, 25051]) = -1;
	M([831, 1164, 1330, 1663, 1829, 2812, 3312, 3645, 4145, 4311, 4477, 4810, 4975, 5308, 5473, 5806, 6139, 7271, 7771, 7937, 8103, 8603, 8769, 8935, 9435, 9601, 9767, 10267, 10433, 10599, 10932, 11265, 13570, 13903, 14069, 14736, 14902, 15235, 15735, 16067, 16734, 17568, 20887, 21219, 21886, 22553, 25385]) = -1;
	M([1666, 4148, 5313, 5645, 5810, 5976, 6141, 8607, 9274, 9440, 9606, 10106, 10272, 10438, 10771, 10936, 11102, 11267, 11433, 11599, 15740, 16406, 16738, 17238, 17570, 18070, 18403, 22223, 22555, 23055, 23388, 26387]) = 1;
	M([2668, 3168, 3501, 4001, 4334, 4834, 5334, 6319, 6485, 6818, 6984, 7150, 7316, 7649, 7815, 7981, 8481, 8647, 8813, 9480, 10314, 11947, 12447, 12780, 12946, 13446, 13779, 13945, 14612, 14778, 15111, 15611, 15777, 15943, 16610, 17444, 18580, 18913, 19079, 19746, 19912, 20245, 20745, 20911, 21077, 21744, 22411, 23559, 23725, 23891, 24558, 25225, 27222]) = a1(1)*b1(1)+a1(2)*b1(2);
	M([4004, 4671, 4837, 5170, 5336, 5669, 6002, 6987, 7487, 7820, 8320, 8486, 8652, 9152, 9318, 9484, 9984, 10150, 10316, 10816, 11149, 13450, 14284, 14617, 14783, 15450, 15616, 15782, 16282, 16448, 16614, 17114, 17280, 17446, 17946, 20584, 20750, 20916, 21416, 21582, 21748, 22247, 22413, 22913, 25061, 25227, 25727, 26227, 28057]) = -a1(2)*d1(2)-a1(1)*d1(1);
	M([4338, 4838, 5004, 5337, 5503, 5836, 6169, 7321, 7821, 8154, 8654, 8820, 8986, 9486, 9652, 9818, 10318, 10484, 10650, 10983, 11316, 13951, 14785, 15118, 15284, 15784, 15950, 16116, 16616, 16782, 16948, 17448, 17614, 17780, 18280, 20918, 21084, 21250, 21750, 21916, 22082, 22415, 22581, 22747, 23247, 25229, 25395, 25561, 26061, 26561, 28391]) = -d1(1)*b1(1)-d1(2)*b1(2);
	M([5340, 5673, 5839, 6005, 6171, 8657, 9324, 9657, 10157, 10323, 10489, 10822, 10987, 11153, 11318, 11484, 11650, 15788, 16455, 16621, 16787, 17287, 17453, 17619, 17952, 18118, 18284, 18449, 22254, 22420, 22586, 22919, 23085, 23251, 23416, 26231, 26397, 26563, 26729, 26895, 28725]) = d1(1)^2+d1(2)^2;
	M([13690, 14524, 15024, 18844, 19678, 20178, 21011, 21677, 22009, 22342, 22674, 23174, 23507, 23804, 24471, 24637, 24803, 25136, 25302, 25468, 25801, 25967, 26133, 26299, 26465, 26631, 26797, 26963, 27097, 27263, 27429, 27595, 27761, 27927, 28093, 28259, 28425, 28591, 28757, 28903, 29069, 29235, 29401, 29567, 29727]) = 1/2*glab(1)-1/2*glab(3)-1/2*glab(5);
	M([501, 834, 1334, 1834, 2319, 2819, 3486, 3652, 4319, 4485, 4985, 5485, 6613, 6779, 7112, 7278, 7945, 8111, 8778, 8944, 9778, 10612, 12074, 12908, 13074, 13908, 14074, 15242, 16076, 19054, 19220, 20388, 21222, 24050]) = 1;
	M([1169, 1669, 3321, 4155, 4822, 5321, 5820, 6153, 7615, 7781, 8448, 8614, 9448, 9614, 10281, 10447, 10947, 11280, 13577, 14745, 14911, 15745, 16745, 17579, 20891, 21891, 22558, 25386]) = -2;
	M([5657, 5989, 9118, 9284, 9951, 10117, 10784, 11116, 11448, 11614, 16415, 17248, 18081, 18414, 22227, 23060, 23393, 26388]) = 1;
	M([3507, 4341, 5008, 5508, 6828, 7328, 7995, 8161, 8828, 8994, 9828, 10662, 12792, 12958, 13792, 13958, 15126, 15292, 15959, 16125, 16959, 17793, 19088, 20256, 20422, 21089, 21255, 22089, 22756, 23897, 24063, 24897, 25564]) = b1(2)^2+b1(1)^2;
	M([4843, 5343, 5843, 6176, 7830, 8664, 9498, 9664, 10331, 10497, 10997, 11330, 14629, 14795, 15629, 15795, 16629, 16795, 17462, 17628, 18295, 20925, 21759, 21925, 22425, 22591, 23258, 25233, 25399, 26066, 26566, 28392]) = -2*d1(1)*b1(1)-2*d1(2)*b1(2);
	M([5678, 6011, 9333, 10167, 10834, 11166, 11498, 11664, 16299, 16465, 17132, 17298, 17965, 18131, 18463, 22261, 22928, 23094, 23426, 26235, 26401, 26734, 26900, 28726]) = d1(1)^2+d1(2)^2;
	M([14529, 19687, 21689, 22355, 23188, 23521, 24315, 24481, 25147, 25814, 25980, 26313, 26479, 26812, 26978, 27104, 27604, 27770, 28103, 28269, 28602, 28768, 28907, 29073, 29406, 29572, 29728]) = -glab(5);
	M([4826, 5660, 6622, 7456, 7622, 7788, 7954, 9122, 9288, 9454, 10789, 12248, 12414, 12580, 14249, 14415, 14748, 16417, 19392, 19558, 19891, 21560, 24385]) = 1;
	M([5327, 5994, 7123, 8291, 8457, 8623, 8789, 9957, 10123, 10289, 11123, 13250, 13416, 13582, 15418, 15750, 17252, 20561, 20893, 22228, 25053]) = -1;
	M([5828, 7958, 9293, 9459, 9625, 9791, 10792, 10957, 11457, 14419, 14752, 14918, 16420, 16752, 18087, 21563, 21895, 23063, 25888]) = -1;
	M([6162, 8793, 10128, 10294, 10460, 10626, 11126, 11291, 11624, 15754, 17255, 17587, 18421, 22231, 22563, 23397, 26389]) = 1;
	M([9502, 10837, 12801, 14303, 14636, 14802, 15135, 16303, 16469, 16635, 17970, 19429, 19762, 19928, 21430, 21596, 21762, 22930, 24235, 24401, 24567, 25735, 27558]) = c1(1)*a1(1)+c1(2)*a1(2);
	M([10337, 11171, 13803, 15472, 15638, 15804, 15970, 17138, 17304, 17470, 20598, 20764, 20930, 22264, 22430, 25069, 25235, 26236, 28059]) = -a1(2)*d1(2)-a1(1)*d1(1);
	M([11005, 11505, 15139, 16474, 16640, 16806, 16972, 17973, 18139, 18305, 21600, 21766, 21932, 22933, 23099, 23265, 25738, 25904, 26070, 26737, 28560]) = -c1(1)*d1(1)-c1(2)*d1(2);
	M([11339, 11672, 15974, 17309, 17475, 17641, 17807, 18473, 22268, 22434, 22600, 23433, 26239, 26405, 26571, 26904, 28727]) = d1(1)^2+d1(2)^2;
	M([22695, 23529, 23990, 25158, 25324, 25490, 25656, 26323, 26489, 26655, 26988, 27111, 27277, 27443, 28110, 28276, 28442, 28775, 28911, 29077, 29243, 29576, 29729]) = -1/2*glab(6)+1/2*glab(2)-1/2*glab(3);
	M([5829, 7798, 7964, 8130, 9465, 9631, 9797, 10965, 12589, 12922, 13088, 14757, 14923, 15256, 16758, 19897, 20063, 20396, 21898, 24720]) = 1;
	M([6163, 8633, 8799, 8965, 10300, 10466, 10632, 11299, 13591, 13924, 14090, 15759, 16091, 17593, 20899, 21231, 22566, 25388]) = -1;
	M([9301, 9467, 9633, 10801, 10966, 11466, 14426, 14759, 14925, 16427, 16759, 18094, 21567, 21899, 23067, 25889]) = -1;
	M([10136, 10302, 10468, 11135, 11300, 11633, 15761, 17262, 17594, 18428, 22235, 22567, 23401, 26390]) = 1;
	M([11006, 14812, 15145, 15311, 16646, 16812, 16978, 18313, 19937, 20270, 20436, 21771, 21937, 22103, 23271, 24573, 24739, 24905, 26073, 27893]) = c1(1)*b1(1)+c1(2)*b1(2);
	M([11340, 15814, 15980, 16146, 17481, 17647, 17813, 20939, 21105, 21271, 22439, 22605, 22771, 25241, 25407, 25573, 26574, 28394]) = -d1(1)*b1(1)-d1(2)*b1(2);
	M([11507, 16482, 16648, 16814, 17982, 18148, 18314, 21607, 21773, 21939, 22940, 23106, 23272, 25742, 25908, 26074, 26741, 28561]) = -c1(1)*d1(1)-c1(2)*d1(2);
	M([11674, 17317, 17483, 17649, 18482, 22275, 22441, 22607, 23440, 26243, 26409, 26575, 26908, 28728]) = d1(1)^2+d1(2)^2;
	M([23531, 25166, 25332, 25498, 26332, 26498, 26664, 26997, 27118, 27284, 27450, 28117, 28283, 28449, 28782, 28915, 29081, 29247, 29580, 29730]) = -1/2*glab(5)-1/2*glab(6)+1/2*glab(4);

	Mr = rref(M);  % replace me with a MEX

	A = zeros(12);
	amcols = [179 178 177 176 175 174 173 172 171 170 169 167];
	A(1, 2) = 1;
	A(2, 7) = 1;
	A(3, 8) = 1;
	A(4, 9) = 1;
	A(5, 10) = 1;
	A(6, 11) = 1;
	A(7, :) = -Mr(162, amcols);
	A(8, :) = -Mr(161, amcols);
	A(9, :) = -Mr(160, amcols);
	A(10, :) = -Mr(159, amcols);
	A(11, :) = -Mr(158, amcols);
	A(12, :) = -Mr(156, amcols);

	% generated for action variable 'zd'
	% action matrix monomials: 1 zd zc zb f za zd^2 zc*zd zb*zd f*zd za*zd f*zc
	[V D] = eig(A);
	sol =  V([6, 5, 4, 3, 2],:)./(ones(5, 1)*V(1,:));

	if (find(isnan(sol(:))) > 0)
		
		za = [];
		f = [];
		zb = [];
		zc = [];
		zd = [];
	else
		
		I = find(not(imag( sol(1,:) )));
		za = sol(1,I);
		f = sol(2,I);
		zb = sol(3,I);
		zc = sol(4,I);
		zd = sol(5,I);
	end
end
